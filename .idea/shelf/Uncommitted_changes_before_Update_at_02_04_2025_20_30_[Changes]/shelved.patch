Index: app/src/main/java/com/example/ProyectoDesarrolloDeApps1/RecuperarContrasenaActivity.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.example.ProyectoDesarrolloDeApps1;\r\n\r\nimport android.content.Intent;\r\nimport android.os.Bundle;\r\nimport android.os.Handler;\r\nimport android.widget.Button;\r\nimport android.widget.EditText;\r\nimport android.widget.TextView;\r\nimport android.widget.Toast;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport com.example.ProyectoDesarrolloDeApps1.data.api.model.ChangePasswordRequest;\r\nimport com.example.ProyectoDesarrolloDeApps1.data.api.model.ChangePasswordResponse;\r\nimport com.example.ProyectoDesarrolloDeApps1.data.repository.AuthRepository;\r\nimport com.example.ProyectoDesarrolloDeApps1.data.repository.ChangePasswordCallback;\r\n\r\nimport javax.inject.Inject;\r\n\r\nimport dagger.hilt.android.AndroidEntryPoint;\r\n\r\n@AndroidEntryPoint\r\npublic class RecuperarContrasenaActivity extends AppCompatActivity {\r\n\r\n    @Inject\r\n    AuthRepository authRepository;\r\n\r\n    private EditText etCorreoRecuperacion;\r\n    private Button btnEnviarCorreo;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.recupero_pass);\r\n\r\n        etCorreoRecuperacion = findViewById(R.id.etCorreoRecuperacion);\r\n        btnEnviarCorreo = findViewById(R.id.btnEnviarCorreo);\r\n        TextView tvVolverLogin = findViewById(R.id.tvVolverLogin);\r\n\r\n        tvVolverLogin.setOnClickListener(v -> {\r\n            Intent intent = new Intent(RecuperarContrasenaActivity.this, MainActivity.class);\r\n            startActivity(intent);\r\n            finish();\r\n        });\r\n\r\n        btnEnviarCorreo.setOnClickListener(v -> enviarSolicitudRecuperacion());\r\n    }\r\n\r\n    private void enviarSolicitudRecuperacion() {\r\n        String correo = etCorreoRecuperacion.getText().toString().trim();\r\n\r\n        if (correo.isEmpty()) {\r\n            Toast.makeText(this, \"Por favor ingresa tu correo\", Toast.LENGTH_SHORT).show();\r\n            return;\r\n        }\r\n\r\n        ChangePasswordRequest request = new ChangePasswordRequest(correo);\r\n\r\n        authRepository.changePassword(request, new ChangePasswordCallback() {\r\n            @Override\r\n            public void onSuccess(ChangePasswordResponse response) {\r\n                runOnUiThread(() -> {\r\n                    Toast.makeText(RecuperarContrasenaActivity.this, response.getMessage(), Toast.LENGTH_LONG).show();\r\n\r\n                    new Handler().postDelayed(() -> {\r\n                        Intent intent = new Intent(RecuperarContrasenaActivity.this, MainActivity.class);\r\n                        startActivity(intent);\r\n                        finish();\r\n                    }, 4000); // 10 segundos de espera\r\n                });\r\n            }\r\n\r\n            @Override\r\n            public void onError(Throwable error) {\r\n                runOnUiThread(() -> Toast.makeText(RecuperarContrasenaActivity.this, \"Error: \" + error.getMessage(), Toast.LENGTH_SHORT).show());\r\n            }\r\n        });\r\n    }\r\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/java/com/example/ProyectoDesarrolloDeApps1/RecuperarContrasenaActivity.java b/app/src/main/java/com/example/ProyectoDesarrolloDeApps1/RecuperarContrasenaActivity.java
--- a/app/src/main/java/com/example/ProyectoDesarrolloDeApps1/RecuperarContrasenaActivity.java	(revision 0dc2d1268b4fd7cc7fb4d513c6db18d773eda595)
+++ b/app/src/main/java/com/example/ProyectoDesarrolloDeApps1/RecuperarContrasenaActivity.java	(date 1743636653040)
@@ -76,4 +76,4 @@
             }
         });
     }
-}
\ No newline at end of file
+}
